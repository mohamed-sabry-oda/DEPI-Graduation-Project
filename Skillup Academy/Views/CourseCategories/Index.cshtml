@model IEnumerable<Core.Models.Courses.CourseCategory>

@{
    ViewData["Title"] = "Course Categories Management";
}

<style>
    .category-image-wrapper {
        height: 180px;
        overflow: hidden;
        border-top-left-radius: calc(0.5rem - 1px);
        border-top-right-radius: calc(0.5rem - 1px);
    }

        .category-image-wrapper img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

    .category-card:hover .category-image-wrapper img {
        transform: scale(1.05);
    }

    .category-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 1px solid #f0f0f0;
    }

        .category-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 1rem 3rem rgba(0, 0, 0, 0.25) !important;
        }

    .status-badge {
        position: absolute;
        top: 15px;
        right: 15px;
        font-size: 0.8rem;
        z-index: 10;
        padding: 5px 12px;
        border-radius: 50px;
        font-weight: bold;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .card-footer-id {
        font-family: monospace;
        font-size: 0.75rem;
    }
</style>


<div class="container py-4">

    <div class="d-flex justify-content-between align-items-center mb-5 pb-2 border-bottom">
        <h5 class="display-5 fw-bold text-dark mb-0">
            <i class="fas fa-layer-group me-2 text-primary"></i> Course Categories Management
        </h5>
        <a asp-action="Create" class="btn btn-primary btn-lg rounded-pill px-4 shadow-lg">
            <i class="fas fa-plus-circle me-1"></i> Create New Category
        </a>
    </div>

    <div class="row">
        @if (Model != null && Model.Any())
        {
            @foreach (var item in Model)
            {
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="card h-100 shadow category-card rounded-5 position-relative overflow-hidden">

                        <span class="status-badge badge @(item.IsActive ? "bg-success" : "bg-warning text-dark")">
                            @(item.IsActive ? "ACTIVE" : "INACTIVE")
                        </span>

                        <div class="category-image-wrapper">
                            <img src="/img/@item.Icon" alt="@item.Name Category Image" class="img-fluid" />
                        </div>

                        <div class="card-body d-flex flex-column p-4">

                            <h4 class="card-title fw-bolder text-dark mb-2">@Html.DisplayFor(modelItem => item.Name)</h4>

                            <p class="card-text text-muted small mb-4">
                                @(item.Description.Length > 90 ? item.Description.Substring(0, 90) + "..." : item.Description)
                            </p>

                            <div class="mt-auto pt-3 border-top">

                                <a asp-action="Edit" asp-route-id="@item.Id" class="btn btn-sm btn-primary me-2 rounded-pill px-3 shadow-sm">
                                    <i class="fas fa-edit me-1"></i> Edit
                                </a>
                                 

                                <a asp-action="Delete" asp-route-id="@item.Id" class="btn btn-sm btn-outline-danger rounded-pill px-3">
                                    <i class="fas fa-trash-alt me-1"></i> Delete
                                </a>
                            </div>
                        </div>

                        <div class="card-footer bg-light border-0 text-end small text-muted py-2 card-footer-id">
                            <span class="fw-semibold">ID:</span> @item.Id.ToString().Substring(0, 8)...
                        </div>
                    </div>
                </div>
            }
        }
        else
        {
            <div class="col-12">
                <div class="alert alert-info alert-dismissible fade show p-4 shadow-sm" role="alert">
                    <h4 class="alert-heading"><i class="fas fa-info-circle me-2"></i> No Categories Yet!</h4>
                    <p>It looks like there are no categories in the system. Click the **'Create New Category'** button above to start building your catalog.</p>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            </div>
        }
    </div>
</div>

@section Scripts {

}