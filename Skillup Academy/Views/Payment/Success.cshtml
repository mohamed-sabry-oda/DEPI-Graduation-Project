
@{
    ViewData["Title"] = "Payment Confirmed";
}

<style>
    .checkmark-container {
        width: 140px;
        height: 120px;
        position: relative;
        margin: 0 auto 1.5rem;
        border-radius: 50%;
        background-color: var(--bs-success-bg-subtle);
        display: flex;
        justify-content: center;
        align-items: center;
        box-shadow: 0 0 0 0.25rem rgba(25, 135, 84, 0.25);
    }

    .checkmark-svg {
        width: 90px;
        height: 70px;
        stroke-width: 5;
        stroke: var(--bs-success);
        fill: none;
        stroke-linecap: round;
        stroke-linejoin: round;
        display: block;
        stroke-dasharray: 100;
        stroke-dashoffset: 100;
        animation: drawCheckmark 2s forwards ease-in-out;
    }

    @@keyframes drawCheckmark {
        to {
            stroke-dashoffset: 0;
        }
    }

    .card.animated {
        animation: pulseEffect 0.8s ease-out;
    }

    @@keyframes pulseEffect {
        0% { transform: scale(0.98); opacity: 0.8; }
        100% { transform: scale(1); opacity: 1; }
    }
</style>

<div class="container d-flex justify-content-center align-items-center py-5" style="min-height: 85vh;">
    <div class="card shadow-lg border-0 rounded-4 p-5 animated" style="max-width: 480px; width: 100%;">
        <div class="card-body text-center">

            <div class="checkmark-container">
                <svg class="checkmark-svg" viewBox="0 0 24 24">
                    <path d="M5 13l4 4L19 7" />
                </svg>
            </div>

            <h1 class="fw-bolder text-success mb-2 display-5">Payment Successful!</h1>
            <p class="text-secondary fs-5 mb-4">Thank you. Your payment has been processed successfully.</p>

            <hr class="my-4 border-secondary border-opacity-25">

            <p class="text-muted small">
                Redirecting to the homepage in <span id="countdown" class="fw-bold text-primary">5</span> seconds...
            </p>

            <a class="btn btn-success btn-lg mt-3 px-5 shadow-sm lift" href="/">
                <i class="bi bi-house-door-fill me-2"></i> Go to Homepage Now
            </a>

        </div>
    </div>
</div>

@section Scripts {
    <script>
        let time = 5;
        const countdownElement = document.getElementById('countdown');
        const homepageUrl = '/';

        function updateCountdown() {
            if (time > 0) {
                time--;
                countdownElement.textContent = time;
            } else {
                clearInterval(timer);
                window.location.href = homepageUrl;
            }
        }

        const timer = setInterval(updateCountdown, 1000);
    </script>
}